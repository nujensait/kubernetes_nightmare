# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é –≤ WSL (Windows Subsystem for Linux)

–ü–æ—à–∞–≥–æ–≤–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å MongoDB 
–∏ Traefik Ingress Controller –≤ Kubernetes –∫–ª–∞—Å—Ç–µ—Ä–µ –Ω–∞ –±–∞–∑–µ Minikube –≤ WSL.

üìñ **[‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –æ–ø–∏—Å–∞–Ω–∏—é –ø—Ä–æ–µ–∫—Ç–∞ (README.MD)](README.MD)**  
üìñ **[–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º –∫–ª–∞—Å—Ç–µ—Ä–µ (DEPLOY.MD)](DEPLOY.MD)**

## –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

- [–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è](#–ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
- [–®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤](#—à–∞–≥-1-–ø—Ä–æ–≤–µ—Ä–∫–∞-—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)
- [–®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∫–ª–∞—Å—Ç–µ—Ä–∞](#—à–∞–≥-2-–ø—Ä–æ–≤–µ—Ä–∫–∞-—Å—Ç–∞—Ç—É—Å–∞-–∫–ª–∞—Å—Ç–µ—Ä–∞)
- [–®–∞–≥ 3: –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è](#—à–∞–≥-3-—Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
- [–®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è](#—à–∞–≥-4-–ø—Ä–æ–≤–µ—Ä–∫–∞-—Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è)
- [–®–∞–≥ 5: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ—Å—Ç—É–ø–∞ —á–µ—Ä–µ–∑ port-forward](#—à–∞–≥-5-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–¥–æ—Å—Ç—É–ø–∞-—á–µ—Ä–µ–∑-port-forward)
- [–®–∞–≥ 6: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è](#—à–∞–≥-6-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
- [–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã –≤ WSL](#–æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏-—Ä–∞–±–æ—Ç—ã-–≤-wsl)
- [–ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã](#–ø–æ–ª–µ–∑–Ω—ã–µ-–∫–æ–º–∞–Ω–¥—ã)
- [–£–¥–∞–ª–µ–Ω–∏–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è](#—É–¥–∞–ª–µ–Ω–∏–µ-—Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è)

---

## –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

1. **Windows 10/11** —Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º **WSL 2**
2. **Minikube** —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ WSL
3. **kubectl** —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ WSL
4. **PowerShell** –Ω–∞ Windows (–¥–ª—è port-forward)

## –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

–ò–∑ PowerShell –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–µ—Ä—Å–∏–π:

```powershell
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏ Minikube
wsl minikube version

# –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:
# minikube version: v1.37.0
# commit: 65318f4cfff9c12cc87ec9eb8f4cdd57b25047f3
```

```powershell
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏ kubectl
wsl kubectl version --client

# –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:
# Client Version: v1.34.3
# Kustomize Version: v5.7.1
```

## –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∫–ª–∞—Å—Ç–µ—Ä–∞

### 2.1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ Minikube

```powershell
wsl minikube status

# –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:
# minikube
# type: Control Plane
# host: Running
# kubelet: Running
# apiserver: Running
# kubeconfig: Configured
```

–ï—Å–ª–∏ –∫–ª–∞—Å—Ç–µ—Ä –Ω–µ –∑–∞–ø—É—â–µ–Ω, –∑–∞–ø—É—Å—Ç–∏—Ç–µ –µ–≥–æ:

```powershell
wsl minikube start
```

### 2.2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∫–ª–∞—Å—Ç–µ—Ä–∞

```powershell
# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–ª–∞—Å—Ç–µ—Ä–µ
wsl kubectl cluster-info

# –°–ø–∏—Å–æ–∫ –Ω–æ–¥
wsl kubectl get nodes

# –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:
# NAME       STATUS   ROLES           AGE   VERSION
# minikube   Ready    control-plane   XXm   v1.34.0
```

## –®–∞–≥ 3: –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–í—Å–µ –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `deploy/`. –ü—Ä–∏–º–µ–Ω—è–µ–º –∏—Ö –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π:

```powershell
wsl kubectl apply -f /mnt/d/OSPanel/domains/ga_kubernetes/deploy/
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ü—É—Ç—å `/mnt/d/OSPanel/domains/ga_kubernetes/` - —ç—Ç–æ Windows –ø—É—Ç—å `D:\OSPanel\domains\ga_kubernetes\` –≤ —Ñ–æ—Ä–º–∞—Ç–µ WSL. –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à –ø—É—Ç—å –∫ –ø—Ä–æ–µ–∫—Ç—É.

–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:
```
namespace/webapp created
deployment.apps/mongodb created
service/mongodb created
deployment.apps/webapp created
service/webapp created
serviceaccount/traefik created
clusterrole.rbac.authorization.k8s.io/traefik created
clusterrolebinding.rbac.authorization.k8s.io/traefik created
deployment.apps/traefik created
service/traefik created
ingressclass.networking.k8s.io/traefik created
ingress.networking.k8s.io/webapp-ingress created
```

## –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

### 4.1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ –≤ namespace webapp

```powershell
wsl kubectl get all -n webapp
```

–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:
```
NAME                           READY   STATUS    RESTARTS   AGE
pod/mongodb-78f9664db5-xxxxx   1/1     Running   0          XXm
pod/webapp-549b87c4bb-xxxxx    1/1     Running   0          XXm
pod/webapp-549b87c4bb-xxxxx    1/1     Running   0          XXm

NAME              TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)     AGE
service/mongodb   ClusterIP   10.xx.xxx.xxx   <none>        27017/TCP   XXm
service/webapp    ClusterIP   10.xx.xxx.xxx   <none>        80/TCP      XXm

NAME                      READY   UP-TO-DATE   AVAILABLE   AGE
deployment.apps/mongodb   1/1     1            1           XXm
deployment.apps/webapp    2/2     2            2           XXm
```

### 4.2. –ü—Ä–æ–≤–µ—Ä–∫–∞ Traefik Ingress Controller

```powershell
wsl kubectl get all -n kube-system -l app=traefik
```

–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:
```
NAME                           READY   STATUS    RESTARTS   AGE
pod/traefik-857d9b9688-xxxxx   1/1     Running   0          XXm
pod/traefik-857d9b9688-xxxxx   1/1     Running   0          XXm

NAME                      READY   UP-TO-DATE   AVAILABLE   AGE
deployment.apps/traefik   2/2     2            2           XXm
```

### 4.3. –ü—Ä–æ–≤–µ—Ä–∫–∞ Ingress

```powershell
wsl kubectl get ingress -n webapp
```

–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:
```
NAME             CLASS     HOSTS          ADDRESS   PORTS   AGE
webapp-ingress   traefik   webapp.local             80      XXm
```

### 4.4. –ü—Ä–æ–≤–µ—Ä–∫–∞ Service Traefik

```powershell
wsl kubectl get service -n kube-system traefik
```

–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:
```
NAME      TYPE       CLUSTER-IP      EXTERNAL-IP   PORT(S)                       AGE
traefik   NodePort   10.xx.xxx.xxx   <none>        80:30080/TCP,8080:30081/TCP   XXm
```

### 4.5. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–æ–≤ —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π

```powershell
# –ü–æ–¥—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
wsl kubectl get pods -n webapp -o wide

# –ü–æ–¥—ã Traefik
wsl kubectl get pods -n kube-system -l app=traefik -o wide
```

## –®–∞–≥ 5: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ—Å—Ç—É–ø–∞ —á–µ—Ä–µ–∑ port-forward

‚ö†Ô∏è **–í–∞–∂–Ω–æ:** –í WSL —Å Minikube –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ NodePort (30080, 30081) –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑-–∑–∞ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–µ–π —Å–µ—Ç–µ–≤–æ–≥–æ —Å—Ç–µ–∫–∞. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **port-forward** –¥–ª—è –ø—Ä–æ–±—Ä–æ—Å–∞ –ø–æ—Ä—Ç–æ–≤.

### 5.1. Port-forward –¥–ª—è Mongo Express (–æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ:

```powershell
Start-Process wsl -ArgumentList "kubectl port-forward -n webapp svc/webapp 8081:80" -WindowStyle Hidden
```

–¢–µ–ø–µ—Ä—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É: **http://localhost:8081**

### 5.2. Port-forward –¥–ª—è Traefik (HTTP endpoint)

```powershell
Start-Process wsl -ArgumentList "kubectl port-forward -n kube-system svc/traefik 8080:80" -WindowStyle Hidden
```

–¢–µ–ø–µ—Ä—å Traefik –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: **http://localhost:8080**

### 5.3. Port-forward –¥–ª—è Traefik Dashboard

```powershell
Start-Process wsl -ArgumentList "kubectl port-forward -n kube-system svc/traefik 8082:8080" -WindowStyle Hidden
```

–¢–µ–ø–µ—Ä—å Dashboard –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: **http://localhost:8082/dashboard/**

## –®–∞–≥ 6: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### 6.1. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Mongo Express —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä

1. –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞: **http://localhost:8081**
3. –í–≤–µ–¥–∏—Ç–µ credentials:
   - Username: `admin`
   - Password: `pass`
4. –î–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã—Ç—å—Å—è –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Mongo Express

![Mongo Express interface](images/screen1.jpg)

### 6.2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ PowerShell

```powershell
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (–¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å 401)
curl http://localhost:8081 -UseBasicParsing -Method Head

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π (–¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å 200)
$pair = "admin:pass"
$bytes = [System.Text.Encoding]::ASCII.GetBytes($pair)
$base64 = [System.Convert]::ToBase64String($bytes)
$headers = @{Authorization="Basic $base64"}
(Invoke-WebRequest -Uri http://localhost:8081 -Headers $headers -UseBasicParsing).StatusCode
```

–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: `200`

### 6.3. –ü—Ä–æ–≤–µ—Ä–∫–∞ Traefik Dashboard

```powershell
# –û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ
Start-Process "http://localhost:8082/dashboard/"

# –ò–ª–∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á–µ—Ä–µ–∑ PowerShell
(Invoke-WebRequest -Uri http://localhost:8082/dashboard/ -UseBasicParsing).StatusCode
```

–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: `200`

![Traefic dashboard](images/screen2.jpg)

### 6.4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤

```powershell
# –õ–æ–≥–∏ MongoDB
wsl kubectl logs -n webapp -l app=mongodb --tail=50

# –õ–æ–≥–∏ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
wsl kubectl logs -n webapp -l app=webapp --tail=50

# –õ–æ–≥–∏ Traefik
wsl kubectl logs -n kube-system -l app=traefik --tail=50
```

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã –≤ WSL

### –ü–æ—á–µ–º—É –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ NodePort?

–í WSL —Å Minikube IP –∞–¥—Ä–µ—Å –∫–ª–∞—Å—Ç–µ—Ä–∞ (–æ–±—ã—á–Ω–æ 192.168.49.2) –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å–µ—Ç–∏ Docker –∏ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞–ø—Ä—è–º—É—é –∏–∑ Windows. –≠—Ç–æ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã Docker driver –≤ Minikube –Ω–∞ WSL.

**–†–µ—à–µ–Ω–∏—è:**
1. ‚úÖ **Port-forward** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —ç—Ç–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
2. **Minikube tunnel** - —Ç—Ä–µ–±—É–µ—Ç –∑–∞–ø—É—Å–∫–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ —Å –ø—Ä–∞–≤–∞–º–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
3. **NodePort —á–µ—Ä–µ–∑ WSL IP** - —Å–ª–æ–∂–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ç–µ–≤—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞ port-forward –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

–ß—Ç–æ–±—ã –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ñ–æ–Ω–æ–≤—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã port-forward:

```powershell
# –ù–∞–π—Ç–∏ –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã wsl —Å kubectl port-forward
Get-Process | Where-Object {$_.ProcessName -eq "wsl"} | Select-Object Id, ProcessName

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å (–∑–∞–º–µ–Ω–∏—Ç–µ XXXX –Ω–∞ ID –ø—Ä–æ—Ü–µ—Å—Å–∞)
Stop-Process -Id XXXX
```

–ò–ª–∏ –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª PowerShell.

## –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

```powershell
# –°—Ç–∞—Ç—É—Å –≤—Å–µ—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
wsl kubectl get all -n webapp
wsl kubectl get all -n kube-system -l app=traefik

# –°–æ–±—ã—Ç–∏—è –≤ namespace
wsl kubectl get events -n webapp --sort-by='.lastTimestamp'

# –ü—Ä–æ—Å–º–æ—Ç—Ä endpoints
wsl kubectl get endpoints -n webapp
```

### –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

```powershell
# –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ Ingress
wsl kubectl describe ingress -n webapp webapp-ingress

# –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–¥–µ
wsl kubectl describe pod -n webapp <POD_NAME>

# –ü—Ä–æ–≤–µ—Ä–∫–∞ IngressClass
wsl kubectl get ingressclass
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

```powershell
# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
wsl kubectl rollout restart deployment -n webapp webapp
wsl kubectl rollout status deployment -n webapp webapp

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ MongoDB
wsl kubectl rollout restart deployment -n webapp mongodb

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ Traefik
wsl kubectl rollout restart deployment -n kube-system traefik
```

### –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

```powershell
# –£–≤–µ–ª–∏—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–ø–ª–∏–∫ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
wsl kubectl scale deployment -n webapp webapp --replicas=3

# –£–º–µ–Ω—å—à–∏—Ç—å –¥–æ 1
wsl kubectl scale deployment -n webapp webapp --replicas=1
```

## –£–¥–∞–ª–µ–Ω–∏–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

### –í–∞—Ä–∏–∞–Ω—Ç 1: –£–¥–∞–ª–∏—Ç—å –≤—Å–µ —Ä–µ—Å—É—Ä—Å—ã

```powershell
wsl kubectl delete -f /mnt/d/OSPanel/domains/ga_kubernetes/deploy/
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –£–¥–∞–ª–∏—Ç—å namespace (—É–¥–∞–ª–∏—Ç –≤—Å–µ —Ä–µ—Å—É—Ä—Å—ã –≤–Ω—É—Ç—Ä–∏)

```powershell
wsl kubectl delete namespace webapp
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ü–æ–ª–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –≤–∫–ª—é—á–∞—è Traefik

```powershell
# –£–¥–∞–ª–∏—Ç—å –≤—Å–µ —Ä–µ—Å—É—Ä—Å—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
wsl kubectl delete -f /mnt/d/OSPanel/domains/ga_kubernetes/deploy/

# –£–¥–∞–ª–∏—Ç—å Traefik –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
wsl kubectl delete deployment -n kube-system traefik
wsl kubectl delete service -n kube-system traefik
wsl kubectl delete clusterrolebinding traefik
wsl kubectl delete clusterrole traefik
wsl kubectl delete serviceaccount -n kube-system traefik
wsl kubectl delete ingressclass traefik
```

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–ª–∞—Å—Ç–µ—Ä–∞ Minikube

```powershell
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–ª–∞—Å—Ç–µ—Ä (—Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ)
wsl minikube stop

# –£–¥–∞–ª–∏—Ç—å –∫–ª–∞—Å—Ç–µ—Ä –ø–æ–ª–Ω–æ—Å—Ç—å—é
wsl minikube delete
```

---

## –ò—Ç–æ–≥–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è —É –≤–∞—Å –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:

‚úÖ Namespace `webapp` —Å–æ–∑–¥–∞–Ω  
‚úÖ MongoDB –∑–∞–ø—É—â–µ–Ω–∞ (1 replica)  
‚úÖ –í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ (2 replicas)  
‚úÖ Traefik Ingress Controller –∑–∞–ø—É—â–µ–Ω (2 replicas)  
‚úÖ Ingress –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –¥–æ–º–µ–Ω–∞ `webapp.local`  
‚úÖ Port-forward —Ç—É–Ω–Ω–µ–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã  
‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ –Ω–∞ **http://localhost:8081** (admin/pass)  
‚úÖ Traefik Dashboard –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ **http://localhost:8082/dashboard/**  
‚úÖ MongoDB –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –æ—Ç –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è  

---

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã

üìñ **[‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –æ–ø–∏—Å–∞–Ω–∏—é –ø—Ä–æ–µ–∫—Ç–∞ (README.MD)](README.MD)**  
üìã **[–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è) (DEPLOY.MD)](DEPLOY.MD)**  
üìã **[–í—Å–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è (cmds.sh)](cmds.sh)**  
üìÅ **[–ú–∞–Ω–∏—Ñ–µ—Å—Ç—ã Kubernetes (deploy/)](deploy/)**

---

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** 
–î–∞–Ω–Ω—ã–µ –≤ MongoDB —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `emptyDir` –∏ –±—É–¥—É—Ç –ø–æ—Ç–µ—Ä—è–Ω—ã –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –ø–æ–¥–∞. 
–≠—Ç–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –∑–∞–¥–∞–Ω–∏—è **"Nightmare"**.

---

**–ê–≤—Ç–æ—Ä:** –ò–∫–æ–Ω–Ω–∏–∫–æ–≤ –ú–∏—Ö–∞–∏–ª <mishaikon@gmail.com>
