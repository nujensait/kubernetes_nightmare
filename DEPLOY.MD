# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é —Ä–µ—à–µ–Ω–∏—è

–ü–æ—à–∞–≥–æ–≤–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å MongoDB 
–∏ Traefik Ingress Controller –≤ Kubernetes –∫–ª–∞—Å—Ç–µ—Ä–µ.

üìñ **[‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –æ–ø–∏—Å–∞–Ω–∏—é –ø—Ä–æ–µ–∫—Ç–∞ (README.MD)](README.MD)**  
üìñ **[–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –≤ WSL + Minikube (DEPLOY.WSL.MD)](DEPLOY.WSL.MD)**

## –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

- [–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è](#–ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
- [–ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫–ª–∞—Å—Ç–µ—Ä–∞](#–ø—Ä–æ–≤–µ—Ä–∫–∞-–≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏-–∫–ª–∞—Å—Ç–µ—Ä–∞)
- [–®–∞–≥ 1: –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è](#—à–∞–≥-1-–∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è)
- [–®–∞–≥ 2: –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤](#—à–∞–≥-2-—Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ-–≤—Å–µ—Ö-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)
- [–®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è](#—à–∞–≥-3-–ø—Ä–æ–≤–µ—Ä–∫–∞-—Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è)
- [–®–∞–≥ 4: –ü–æ–ª—É—á–µ–Ω–∏–µ IP –∞–¥—Ä–µ—Å–∞ –Ω–æ–¥—ã](#—à–∞–≥-4-–ø–æ–ª—É—á–µ–Ω–∏–µ-ip-–∞–¥—Ä–µ—Å–∞-–Ω–æ–¥—ã)
- [–®–∞–≥ 5: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è](#—à–∞–≥-5-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
- [–®–∞–≥ 6: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã —Å MongoDB](#—à–∞–≥-6-–ø—Ä–æ–≤–µ—Ä–∫–∞-—Ä–∞–±–æ—Ç—ã-—Å-mongodb)
- [–®–∞–≥ 7: –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏ –Ω–∞–≥—Ä—É–∑–∫–∏](#—à–∞–≥-7-–ø—Ä–æ–≤–µ—Ä–∫–∞-–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏-–Ω–∞–≥—Ä—É–∑–∫–∏)
- [–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º](#–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞-–ø—Ä–æ–±–ª–µ–º)
- [–£–¥–∞–ª–µ–Ω–∏–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è](#—É–¥–∞–ª–µ–Ω–∏–µ-—Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è)
- [–ö–æ–º–∞–Ω–¥—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞](#–∫–æ–º–∞–Ω–¥—ã-–¥–ª—è-–±—ã—Å—Ç—Ä–æ–≥–æ-–¥–æ—Å—Ç—É–ø–∞)
- [–ò—Ç–æ–≥–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞](#–∏—Ç–æ–≥–æ–≤–∞—è-–ø—Ä–æ–≤–µ—Ä–∫–∞)
- [–ü–æ–¥–¥–µ—Ä–∂–∫–∞](#–ø–æ–¥–¥–µ—Ä–∂–∫–∞)

---

## –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

1. **Kubernetes –∫–ª–∞—Å—Ç–µ—Ä –≤–µ—Ä—Å–∏–∏ 1.34** (–∏–ª–∏ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ–π)
2. **kubectl** –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –∫–ª–∞—Å—Ç–µ—Ä—É
3. **–î–æ—Å—Ç—É–ø –∫ Docker Hub** –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –æ–±—Ä–∞–∑–æ–≤
4. **–ü—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –∫–ª–∞—Å—Ç–µ—Ä–∞** –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è RBAC —Ä–µ—Å—É—Ä—Å–æ–≤

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫–ª–∞—Å—Ç–µ—Ä–∞

–ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è —É–±–µ–∂–¥–∞–µ–º—Å—è, —á—Ç–æ –∫–ª–∞—Å—Ç–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç:

```bash
# –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∫–ª–∞—Å—Ç–µ—Ä–∞
kubectl cluster-info

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–æ–¥—ã –∫–ª–∞—Å—Ç–µ—Ä–∞
kubectl get nodes

# –£–±–µ–∂–¥–∞–µ–º—Å—è, —á—Ç–æ –≤—Å–µ –Ω–æ–¥—ã –≤ —Å—Ç–∞—Ç—É—Å–µ Ready
```

–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
```
NAME     STATUS   ROLES           AGE   VERSION
node01   Ready    control-plane   Xd    v1.34.x
node02   Ready    <none>          Xd    v1.34.x
node03   Ready    <none>          Xd    v1.34.x
```

## –®–∞–≥ 1: –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
# –ö–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å –ø—Ä–æ–µ–∫—Ç–æ–º
git clone https://github.com/nujensait/kubernetes_nightmare
cd kubernetes_nightmare
```

## –®–∞–≥ 2: –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

–í—Å–µ –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `deploy/` –∏ –ø—Ä–æ–Ω—É–º–µ—Ä–æ–≤–∞–Ω—ã –≤ –ø–æ—Ä—è–¥–∫–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è.

### –í–∞—Ä–∏–∞–Ω—Ç 1: –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –ü—Ä–∏–º–µ–Ω—è–µ–º –≤—Å–µ –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã –∏–∑ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ deploy/
kubectl apply -f deploy/
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ü–æ—à–∞–≥–æ–≤–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

–ï—Å–ª–∏ –Ω—É–∂–µ–Ω –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ:

```bash
# 1. –°–æ–∑–¥–∞–Ω–∏–µ namespace –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
kubectl apply -f deploy/01-namespace.yaml

# 2. –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ MongoDB
kubectl apply -f deploy/02-mongodb-deployment.yaml
kubectl apply -f deploy/03-mongodb-service.yaml

# 3. –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
kubectl apply -f deploy/04-webapp-deployment.yaml
kubectl apply -f deploy/05-webapp-service.yaml

# 4. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Traefik Ingress Controller
kubectl apply -f deploy/06-traefik-rbac.yaml
kubectl apply -f deploy/07-traefik-deployment.yaml
kubectl apply -f deploy/08-traefik-service.yaml
kubectl apply -f deploy/09-ingressclass.yaml

# 5. –°–æ–∑–¥–∞–Ω–∏–µ Ingress –¥–ª—è –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
kubectl apply -f deploy/10-webapp-ingress.yaml
```

## –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

### 3.1. –ü—Ä–æ–≤–µ—Ä–∫–∞ namespace

```bash
kubectl get namespaces
```

–î–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è namespace `webapp`.

### 3.2. –ü—Ä–æ–≤–µ—Ä–∫–∞ MongoDB

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ Deployment
kubectl get deployment -n webapp mongodb

# –ü—Ä–æ–≤–µ—Ä–∫–∞ Pods
kubectl get pods -n webapp -l app=mongodb

# –ü—Ä–æ–≤–µ—Ä–∫–∞ Service
kubectl get service -n webapp mongodb
```

–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
```
NAME      READY   STATUS    RESTARTS   AGE
mongodb   1/1     Running   0          Xm
```

### 3.3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ Deployment
kubectl get deployment -n webapp webapp

# –ü—Ä–æ–≤–µ—Ä–∫–∞ Pods
kubectl get pods -n webapp -l app=webapp

# –ü—Ä–æ–≤–µ—Ä–∫–∞ Service
kubectl get service -n webapp webapp
```

–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
```
NAME                     READY   STATUS    RESTARTS   AGE
webapp-xxxxxxxxxx-xxxxx  1/1     Running   0          Xm
webapp-xxxxxxxxxx-xxxxx  1/1     Running   0          Xm
```

### 3.4. –ü—Ä–æ–≤–µ—Ä–∫–∞ Traefik Ingress Controller

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ Deployment –≤ namespace kube-system
kubectl get deployment -n kube-system traefik

# –ü—Ä–æ–≤–µ—Ä–∫–∞ Pods
kubectl get pods -n kube-system -l app=traefik

# –ü—Ä–æ–≤–µ—Ä–∫–∞ Service (NodePort)
kubectl get service -n kube-system traefik
```

–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
```
NAME      TYPE       CLUSTER-IP      EXTERNAL-IP   PORT(S)                       AGE
traefik   NodePort   10.x.x.x        <none>        80:30080/TCP,8080:30081/TCP   Xm
```

### 3.5. –ü—Ä–æ–≤–µ—Ä–∫–∞ Ingress

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ Ingress —Ä–µ—Å—É—Ä—Å–∞
kubectl get ingress -n webapp

# –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
kubectl describe ingress -n webapp webapp-ingress
```

–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
```
NAME             CLASS     HOSTS           ADDRESS   PORTS   AGE
webapp-ingress   traefik   webapp.local              80      Xm
```

## –®–∞–≥ 4: –ü–æ–ª—É—á–µ–Ω–∏–µ IP –∞–¥—Ä–µ—Å–∞ –Ω–æ–¥—ã

–î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é –Ω—É–∂–µ–Ω IP –∞–¥—Ä–µ—Å –ª—é–±–æ–π –Ω–æ–¥—ã –∫–ª–∞—Å—Ç–µ—Ä–∞:

```bash
# –ü–æ–ª—É—á–∞–µ–º IP –∞–¥—Ä–µ—Å–∞ –≤—Å–µ—Ö –Ω–æ–¥
kubectl get nodes -o wide

# –ò–ª–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –Ω–æ–¥—ã
kubectl get node node01 -o jsonpath='{.status.addresses[?(@.type=="InternalIP")].address}'
```

–ó–∞–ø–æ–º–∏–Ω–∞–µ–º –∏–ª–∏ –∑–∞–ø–∏—Å—ã–≤–∞–µ–º IP –∞–¥—Ä–µ—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä, `10.0.2.21`).

## –®–∞–≥ 5: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### 5.1. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ curl

```bash
# –ó–∞–º–µ–Ω—è–µ–º <NODE_IP> –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π IP –Ω–æ–¥—ã
curl -H "Host: webapp.local" http://<NODE_IP>:30080
```

–ü—Ä–∏–º–µ—Ä:
```bash
curl -H "Host: webapp.local" http://10.0.2.21:30080
```

–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: HTML —Å—Ç—Ä–∞–Ω–∏—Ü–∞ Mongo Express.

### 5.2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä

**–í–∞—Ä–∏–∞–Ω—Ç –ê: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞ Host (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)**

–î–æ–±–∞–≤–ª—è–µ–º –≤ —Ñ–∞–π–ª hosts:
- **Linux/Mac:** `/etc/hosts`
- **Windows:** `C:\Windows\System32\drivers\etc\hosts`

–î–æ–±–∞–≤–ª—è–µ–º —Å—Ç—Ä–æ–∫—É (–∑–∞–º–µ–Ω—è–µ–º `<NODE_IP>` –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π IP):
```
<NODE_IP> webapp.local
```

–ü—Ä–∏–º–µ—Ä:
```
10.0.2.21 webapp.local
```

–û—Ç–∫—Ä—ã–≤–∞–µ–º –≤ –±—Ä–∞—É–∑–µ—Ä–µ: `http://webapp.local:30080`

**–í–∞—Ä–∏–∞–Ω—Ç –ë: –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –ø–æ IP (–±–µ–∑ Host)**

–û—Ç–∫—Ä—ã–≤–∞–µ–º –≤ –±—Ä–∞—É–∑–µ—Ä–µ: `http://<NODE_IP>:30080`

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: Traefik –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å 404, –µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π Host –∑–∞–≥–æ–ª–æ–≤–æ–∫.

### 5.3. –î–æ—Å—Ç—É–ø –∫ Traefik Dashboard

–î–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –æ—Ç–ª–∞–¥–∫–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ Traefik Dashboard:

```bash
http://<NODE_IP>:30081
```

–ü—Ä–∏–º–µ—Ä: `http://10.0.2.21:30081`

## –®–∞–≥ 6: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã —Å MongoDB

1. –û—Ç–∫—Ä—ã–≤–∞–µ–º –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Mongo Express (—Å–º. –®–∞–≥ 5.2)
2. –í–≤–æ–¥–∏–º credentials:
   - Username: `admin`
   - Password: `pass`
3. –°–æ–∑–¥–∞—ë–º —Ç–µ—Å—Ç–æ–≤—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏ –∫–æ–ª–ª–µ–∫—Ü–∏—é
4. –î–æ–±–∞–≤–ª—è–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
5. –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è

## –®–∞–≥ 7: –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏ –Ω–∞–≥—Ä—É–∑–∫–∏

–£–±–µ–∂–¥–∞–µ–º—Å—è, —á—Ç–æ –∑–∞–ø—Ä–æ—Å—ã —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –º–µ–∂–¥—É —Ä–µ–ø–ª–∏–∫–∞–º–∏ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

```bash
# –°–º–æ—Ç—Ä–∏–º –ª–æ–≥–∏ –æ–±–æ–∏—Ö –ø–æ–¥–æ–≤
kubectl logs -n webapp -l app=webapp --tail=20

# –î–µ–ª–∞–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–ø—Ä–æ—Å–æ–≤
for i in {1..10}; do
  curl -H "Host: webapp.local" http://<NODE_IP>:30080 -s -o /dev/null -w "Request $i\n"
done

# –°–Ω–æ–≤–∞ –ø—Ä–æ–≤–µ—Ä—è–µ–º –ª–æ–≥–∏ - –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø—Ä–æ—Å—ã –≤ –æ–±–æ–∏—Ö –ø–æ–¥–∞—Ö
kubectl logs -n webapp -l app=webapp --tail=50
```

## –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: Pods –Ω–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –ø–æ–¥–æ–≤
kubectl get pods -n webapp
kubectl get pods -n kube-system -l app=traefik

# –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–æ–±—ã—Ç–∏–π
kubectl describe pod -n webapp <POD_NAME>

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
kubectl logs -n webapp <POD_NAME>
```

### –ü—Ä–æ–±–ª–µ–º–∞: Ingress –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ IngressClass
kubectl get ingressclass

# –ü—Ä–æ–≤–µ—Ä–∫–∞ Ingress
kubectl describe ingress -n webapp webapp-ingress

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ Traefik
kubectl logs -n kube-system -l app=traefik
```

### –ü—Ä–æ–±–ª–µ–º–∞: MongoDB –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ MongoDB –∏–∑ –ø–æ–¥–∞ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
kubectl exec -n webapp -it <WEBAPP_POD_NAME> -- sh
# –í–Ω—É—Ç—Ä–∏ –ø–æ–¥–∞:
nc -zv mongodb 27017
```

### –ü—Ä–æ–±–ª–µ–º–∞: NodePort –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ Service
kubectl get svc -n kube-system traefik

# –ü—Ä–æ–≤–µ—Ä–∫–∞ firewall –Ω–∞ –Ω–æ–¥–∞—Ö (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
# –ù–∞ –Ω–æ–¥–µ:
sudo iptables -L -n | grep 30080
```

## –£–¥–∞–ª–µ–Ω–∏–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

–î–ª—è –ø–æ–ª–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:

```bash
# –£–¥–∞–ª–∏—Ç—å –≤—Å–µ —Ä–µ—Å—É—Ä—Å—ã –∏–∑ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ deploy/
kubectl delete -f deploy/

# –ò–ª–∏ —É–¥–∞–ª–∏—Ç—å namespace (—É–¥–∞–ª–∏—Ç –≤—Å–µ —Ä–µ—Å—É—Ä—Å—ã –≤–Ω—É—Ç—Ä–∏)
kubectl delete namespace webapp

# –£–¥–∞–ª–∏—Ç—å Traefik –∏–∑ kube-system
kubectl delete deployment -n kube-system traefik
kubectl delete service -n kube-system traefik
kubectl delete clusterrolebinding traefik
kubectl delete clusterrole traefik
kubectl delete serviceaccount -n kube-system traefik
kubectl delete ingressclass traefik
```

## –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞

```bash
# –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Ä–µ—Å—É—Ä—Å—ã –≤ namespace webapp
kubectl get all -n webapp

# –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Ä–µ—Å—É—Ä—Å—ã Traefik
kubectl get all -n kube-system -l app=traefik

# –ü–æ–ª—É—á–∏—Ç—å –ª–æ–≥–∏ –≤—Å–µ—Ö –ø–æ–¥–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
kubectl logs -n webapp -l app=webapp --tail=100 -f

# –ü–æ–ª—É—á–∏—Ç—å –ª–æ–≥–∏ MongoDB
kubectl logs -n webapp -l app=mongodb --tail=100 -f

# –ü–æ–ª—É—á–∏—Ç—å –ª–æ–≥–∏ Traefik
kubectl logs -n kube-system -l app=traefik --tail=100 -f

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å deployment
kubectl rollout restart deployment -n webapp webapp
kubectl rollout restart deployment -n webapp mongodb
kubectl rollout restart deployment -n kube-system traefik
```

## –ò—Ç–æ–≥–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è —É –≤–∞—Å –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:

‚úÖ Namespace `webapp` —Å–æ–∑–¥–∞–Ω  
‚úÖ MongoDB –∑–∞–ø—É—â–µ–Ω–∞ (1 replica)  
‚úÖ –í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ (2 replicas)  
‚úÖ Traefik Ingress Controller –∑–∞–ø—É—â–µ–Ω (2 replicas)  
‚úÖ Ingress –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –¥–æ–º–µ–Ω–∞ `webapp.local`  
‚úÖ NodePort 30080 –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è HTTP —Ç—Ä–∞—Ñ–∏–∫–∞  
‚úÖ NodePort 30081 –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è Traefik Dashboard  
‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä  
‚úÖ MongoDB –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –æ—Ç –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è  

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º –ø—Ä–æ–≤–µ—Ä—è–µ–º:
1. –õ–æ–≥–∏ –ø–æ–¥–æ–≤: `kubectl logs -n <namespace> <pod-name>`
2. –°–æ–±—ã—Ç–∏—è: `kubectl get events -n <namespace> --sort-by='.lastTimestamp'`
3. –û–ø–∏—Å–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤: `kubectl describe <resource-type> -n <namespace> <resource-name>`

---

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –î–∞–Ω–Ω—ã–µ –≤ MongoDB —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `emptyDir` –∏ –±—É–¥—É—Ç –ø–æ—Ç–µ—Ä—è–Ω—ã 
–ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –ø–æ–¥–∞. –≠—Ç–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –∑–∞–¥–∞–Ω–∏—è **"Nightmare"**.

---

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã

üìñ **[‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –æ–ø–∏—Å–∞–Ω–∏—é –ø—Ä–æ–µ–∫—Ç–∞ (README.MD)](README.MD)**  
üìñ **[–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é –≤ WSL + Minikube (DEPLOY.WSL.MD)](DEPLOY.WSL.MD)**  
üìã **[–í—Å–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è (cmds.sh)](cmds.sh)**  
üìÅ **[–ú–∞–Ω–∏—Ñ–µ—Å—Ç—ã Kubernetes (deploy/)](deploy/)**
